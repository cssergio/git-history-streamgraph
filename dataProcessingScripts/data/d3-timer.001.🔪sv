â˜•441e45bğŸ”ª2021-06-05 11:42:59 -0700ğŸ”ªMike BostockğŸ”ª3.0.1ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•db120a0ğŸ”ª2021-06-05 11:42:57 -0700ğŸ”ªMike BostockğŸ”ªupdate dependenciesğŸ”ª
 yarn.lock | 36 ++++++++++++------------------------
 1 file changed, 12 insertions(+), 24 deletions(-)

â˜•844ce3eğŸ”ª2021-06-05 11:42:48 -0700ğŸ”ªMike BostockğŸ”ªrelated d3/d3#3502; extract copyrights from LICENSEğŸ”ª
 rollup.config.js | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

â˜•cd4b6c9ğŸ”ª2021-06-04 15:18:54 -0700ğŸ”ªMike BostockğŸ”ª3.0.0ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•89fe1a0ğŸ”ª2021-06-05 00:17:09 +0200ğŸ”ªPhilippe RiviÃ¨reğŸ”ªAdopt type=module (#46)ğŸ”ª* Adopt type=module

follow changes in d3-format:
* type=module
* add exports
* remove zip
* license: ISC
* update dependencies

* remove Sublime project

* add eslint.json

* update dependencies

* Update README

* fix eslintrc

* undefined context

* fix tests; cleaner imports

* relax test precision

Co-authored-by: Mike Bostock <mbostock@gmail.com>
 .eslintrc.json                      |    5 -
 .github/eslint.json (new)           |   18 +
 .github/workflows/node.js.yml (new) |   30 +
 LICENSE                             |   40 +-
 README.md                           |   20 +-
 d3-timer.sublime-project (gone)     |   17 -
 package.json                        |   45 +-
 src/timer.js                        |    2 +-
 test/.eslintrc.json (new)           |   14 +
 test/asserts.js (new)               |    7 +
 test/end.js (gone)                  |    7 -
 test/inRange.js (gone)              |   10 -
 test/interval-test.js               |   93 ++-
 test/now-test.js                    |   30 +-
 test/timeout-test.js                |   68 +-
 test/timer-test.js                  |  548 ++++++-------
 test/timerFlush-test.js             |   52 +-
 yarn.lock                           | 1463 +++++++++++++++++++----------------
 18 files changed, 1320 insertions(+), 1149 deletions(-)

â˜•f302fe9ğŸ”ª2020-08-23 15:58:39 +0200ğŸ”ªPhilippe RiviÃ¨reğŸ”ªv2.0.0ğŸ”ª
 package.json | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

â˜•9b3bea0ğŸ”ª2020-07-24 16:47:20 +0200ğŸ”ªPhilippe RiviÃ¨reğŸ”ªv2.0.0-rc.1ğŸ”ª
 package.json | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

â˜•c4754f4ğŸ”ª2020-07-10 22:17:19 +0200ğŸ”ªPhilippe RiviÃ¨reğŸ”ªlinks to d3@6 versionsğŸ”ª
 README.md | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

â˜•85496b3ğŸ”ª2020-06-29 11:29:41 +0200ğŸ”ªPhilippe RiviÃ¨reğŸ”ªWhen an interval is restarted, restart as an interval not a Timer. fixes #39 test https://observablehq.com/d/01143cce97603b60ğŸ”ª
 src/interval.js       | 16 ++++++++++------
 test/interval-test.js | 14 ++++++++++++++
 2 files changed, 24 insertions(+), 6 deletions(-)

â˜•42d391fğŸ”ª2020-06-05 18:13:51 +0200ğŸ”ªPhilippe RiviÃ¨reğŸ”ªdeliberate ES6 syntaxğŸ”ª(rationale: don't let people install @2 in a build system that will not alert them that we have moved to ES6, only to cause trouble with a later release.)

 src/timeout.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•84e909eğŸ”ª2019-11-16 11:28:32 -0800ğŸ”ªMike BostockğŸ”ª1.0.10ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•8596f21ğŸ”ª2019-11-16 11:28:05 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

â˜•fa81fceğŸ”ª2019-09-27 10:29:18 +0200ğŸ”ªChristophe CoevoetğŸ”ªMark the package as having no side effectsğŸ”ª
 package.json | 1 +
 1 file changed, 1 insertion(+)

â˜•b243a2ağŸ”ª2019-11-02 08:23:33 +0000ğŸ”ªdependabot[bot]ğŸ”ªBump eslint-utils from 1.4.0 to 1.4.3ğŸ”ªBumps [eslint-utils](https://github.com/mysticatea/eslint-utils) from 1.4.0 to 1.4.3.
- [Release notes](https://github.com/mysticatea/eslint-utils/releases)
- [Commits](https://github.com/mysticatea/eslint-utils/compare/v1.4.0...v1.4.3)

Signed-off-by: dependabot[bot] <support@github.com>
 yarn.lock | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

â˜•496c0c7ğŸ”ª2019-08-09 16:15:36 -0700ğŸ”ªMike BostockğŸ”ªStandardize dependencies. d3/d3#3337ğŸ”ª
 package.json |   6 +-
 yarn.lock    | 875 +++++++++++++++++++++++++++++++++++------------------------
 2 files changed, 518 insertions(+), 363 deletions(-)

â˜•a2fb2a6ğŸ”ª2019-08-09 15:54:06 -0700ğŸ”ªMike BostockğŸ”ªUse explicit files when publishing. d3/d3#3335ğŸ”ª
 .npmignore (gone) | 4 ----
 package.json      | 4 ++++
 2 files changed, 4 insertions(+), 4 deletions(-)

â˜•47a2456ğŸ”ª2019-08-09 15:45:59 -0700ğŸ”ªMike BostockğŸ”ªUse exact paths in imports. d3/d3#3265ğŸ”ª
 src/index.js    | 6 +++---
 src/interval.js | 2 +-
 src/timeout.js  | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

â˜•318b185ğŸ”ª2018-08-24 14:21:36 -0700ğŸ”ªMike BostockğŸ”ª1.0.9ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•53e3638ğŸ”ª2018-08-24 14:00:52 -0700ğŸ”ªMike BostockğŸ”ªAdopt npm_package_version.ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•7a54bdcğŸ”ª2018-08-24 13:42:09 -0700ğŸ”ªMike BostockğŸ”ªMove index; add unpkg & jsdelivr fields.ğŸ”ª
 .npmignore               | 1 +
 package.json             | 9 +++++----
 rollup.config.js         | 6 +++---
 index.js => src/index.js | 6 +++---
 4 files changed, 12 insertions(+), 10 deletions(-)

â˜•d2dd1c2ğŸ”ª2018-08-24 11:58:01 -0700ğŸ”ªMike BostockğŸ”ª1.0.8ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•3489d5dğŸ”ª2018-08-24 11:57:53 -0700ğŸ”ªMike BostockğŸ”ªUpdate dependencies.ğŸ”ª
 .eslintrc (gone)         |   8 -
 .eslintrc.json (new)     |  15 +
 .gitignore               |   2 +-
 .npmignore               |   2 +-
 d3-timer.sublime-project |  16 +-
 package.json             |  17 +-
 rollup.config.js         |  39 +-
 test/timer-test.js       |   1 -
 yarn.lock (new)          | 935 +++++++++++++++++++++++++++++++++++++++++++++++
 9 files changed, 1003 insertions(+), 32 deletions(-)

â˜•59fc0adğŸ”ª2017-09-03 09:32:01 -0700ğŸ”ªMike BostockğŸ”ª1.0.7ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•f88d970ğŸ”ª2017-09-03 09:31:56 -0700ğŸ”ªMike BostockğŸ”ªUpdate dependencies.ğŸ”ª
 package.json           | 8 ++++----
 rollup.config.js (new) | 9 +++++++++
 2 files changed, 13 insertions(+), 4 deletions(-)

â˜•367fad8ğŸ”ª2017-09-03 09:27:41 -0700ğŸ”ªMike BostockğŸ”ªAdd comment regarding delay calculation.ğŸ”ªIn the common case, we assume that the clock has not advanced significantly
since we woke when scheduing the next sleep timer. Since the clock can only move
forward, we only need to check the clock if we actually schedule a timer, and
not if weâ€™ll use an animation frame.

 src/timer.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•34391e4ğŸ”ª2017-08-04 14:17:46 -0700ğŸ”ªMike BostockğŸ”ªFix #27 - inaccurate timeout delay.ğŸ”ªIf timers are expensive, then by the time we sleep, the current time may have
advanced substantially from the `clockNow` computed on wake. Therefore we must
recompute the current time before scheduling the timeout.

 src/timer.js | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

â˜•5264463ğŸ”ª2017-06-05 08:05:52 -0700ğŸ”ªMike BostockğŸ”ª1.0.6ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•2af750dğŸ”ª2017-06-05 08:05:12 -0700ğŸ”ªMike BostockğŸ”ªUpdate dependencies.ğŸ”ª
 package.json | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

â˜•b4088afğŸ”ª2017-05-30 11:14:15 -0700ğŸ”ªMike BostockğŸ”ªTest for window.requestAnimationFrame, again.ğŸ”ª
 src/timer.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•a611336ğŸ”ª2017-05-30 11:13:35 -0700ğŸ”ªMike BostockğŸ”ªTest for window.requestAnimationFrame.ğŸ”ª
 src/timer.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•eea979eğŸ”ª2017-05-30 08:47:01 +0200ğŸ”ªKlimczakğŸ”ªFix for Edge browser.ğŸ”ª
 src/timer.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•88c3828ğŸ”ª2017-03-10 10:24:32 -0800ğŸ”ªMike BostockğŸ”ª1.0.5ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•8a119e0ğŸ”ª2017-03-10 10:24:25 -0800ğŸ”ªMike BostockğŸ”ªUpdate UglifyJS.ğŸ”ª
 package.json | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

â˜•8af4acdğŸ”ª2017-01-23 10:46:28 -0800ğŸ”ªMike BostockğŸ”ª1.0.4ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•c143d7bğŸ”ª2017-01-23 10:46:12 -0800ğŸ”ªMike BostockğŸ”ªUpdate dependencies.ğŸ”ª
 .eslintrc    | 6 +-----
 package.json | 4 ++--
 2 files changed, 3 insertions(+), 7 deletions(-)

â˜•4672eceğŸ”ª2016-11-28 16:09:29 -0800ğŸ”ªMike BostockğŸ”ªRecord clock before sleeping.ğŸ”ªFixes #17. The poke interval was relying on the wake callback to record the
last-seen clock time, clockLast. If no timers were run before sleeping (such as
when no timers are run immediately on load, but timers are scheduled during a
timeout), clockLast was still its initial value, zero. Now we set clockLast to
clockNow before scheduling the poke interval, so that it detects skew relative
to the time the poke interval was started.

 src/timer.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•66a6ad8ğŸ”ª2016-08-26 13:37:46 -0700ğŸ”ªMike BostockğŸ”ª1.0.3ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•e8ac3d2ğŸ”ª2016-08-26 13:29:49 -0700ğŸ”ªMike BostockğŸ”ªDonâ€™t rely on requestAnimationFrame timestamp.ğŸ”ªInstead, always call performance.now (or Date.now) to retrieve the current time.
The performance cost of doing this is negligble since this happens at most once
per animation frame, and it simplifies the logic, fixing #16.

 src/timer.js | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

â˜•a365833ğŸ”ª2016-08-13 15:11:01 +0200ğŸ”ªMehdi El FadilğŸ”ªAdd links to sourceğŸ”ªd3/d3#2936
 README.md | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

â˜•2ab2360ğŸ”ª2016-08-02 14:26:40 -0700ğŸ”ªMike BostockğŸ”ª1.0.2ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•61109b9ğŸ”ª2016-08-02 14:26:39 -0700ğŸ”ªMike BostockğŸ”ªAdd module entry. Related rollup/rollup-plugin-node-resolve#48.ğŸ”ª
 package.json | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

â˜•36715c6ğŸ”ª2016-06-30 07:32:42 -0700ğŸ”ªMike BostockğŸ”ª1.0.1ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•3e798c2ğŸ”ª2016-06-30 07:32:37 -0700ğŸ”ªMike BostockğŸ”ªPrepare for patch release.ğŸ”ª
 package.json | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

â˜•6ea3df4ğŸ”ª2016-06-30 07:30:39 -0700ğŸ”ªMike BostockğŸ”ªFix for IE9. Fixes d3/d3-force#39.ğŸ”ª
 src/timer.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•b61a47dğŸ”ª2016-06-14 15:21:35 -0700ğŸ”ªMike BostockğŸ”ª1.0.0ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•a902482ğŸ”ª2016-06-14 15:21:25 -0700ğŸ”ªMike BostockğŸ”ªPrepare for major release.ğŸ”ª
 LICENSE      | 2 +-
 README.md    | 4 ++--
 package.json | 4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

â˜•139a0eağŸ”ª2016-06-14 09:21:44 -0700ğŸ”ªMike BostockğŸ”ªTag as d3-module. Related d3/d3#2827.ğŸ”ª
 package.json | 1 +
 1 file changed, 1 insertion(+)

â˜•234ee16ğŸ”ª2016-06-10 07:07:44 -0700ğŸ”ªMike BostockğŸ”ª0.5.1ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•a7716a2ğŸ”ª2016-06-10 07:05:38 -0700ğŸ”ªMike BostockğŸ”ªFix d3/d3-force#34.ğŸ”ªA removed timer wasnâ€™t having its internal _next field cleared on removal, so on
restart, the timer thought it was still in the queue.

 src/timer.js       |  7 ++++---
 test/timer-test.js | 10 ++++++++++
 2 files changed, 14 insertions(+), 3 deletions(-)

â˜•f79d279ğŸ”ª2016-06-07 17:20:07 -0700ğŸ”ªMike BostockğŸ”ª0.5.0ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•4f9b037ğŸ”ª2016-06-07 17:19:55 -0700ğŸ”ªMike BostockğŸ”ªExport to d3.ğŸ”ªRelated d3/d3#2840.

 README.md    |  6 +++---
 index.js     |  4 ----
 package.json | 12 ++++++------
 3 files changed, 9 insertions(+), 13 deletions(-)

â˜•eec6acfğŸ”ª2016-05-18 09:51:11 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•32ca30fğŸ”ª2016-05-14 21:02:04 -0700ğŸ”ªMike BostockğŸ”ªAdd ESLint. Related d3/d3-scale#59.ğŸ”ª
 .eslintrc    | 4 ++--
 package.json | 1 +
 2 files changed, 3 insertions(+), 2 deletions(-)

â˜•e543e03ğŸ”ª2016-05-13 13:10:08 -0700ğŸ”ªMike BostockğŸ”ª0.4.4ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•2d9a09fğŸ”ª2016-05-13 13:09:59 -0700ğŸ”ªMike BostockğŸ”ªUpdate Rollup.ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•d26677eğŸ”ª2016-05-13 13:08:27 -0700ğŸ”ªMike BostockğŸ”ªFix incorrect now on iOS 8.ğŸ”ªiOS 8 supports requestAnimationFrame, but doesnâ€™t support performance.now, so it
was seeing inconsistent timing. This commits changes the setFrame method to pass
Date.now to the wake callback if performance.now isnâ€™t available. Fixes #12.

 src/timer.js | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

â˜•1aac936ğŸ”ª2016-04-29 11:20:55 -0700ğŸ”ªMike BostockğŸ”ª0.4.3ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•f20fd65ğŸ”ª2016-04-29 11:20:52 -0700ğŸ”ªMike BostockğŸ”ªFix infinite loop when restarting timer.ğŸ”ª
 src/timer.js       |  2 +-
 test/timer-test.js | 12 ++++++++++++
 2 files changed, 13 insertions(+), 1 deletion(-)

â˜•b7e8164ğŸ”ª2016-04-29 09:09:55 -0700ğŸ”ªMike BostockğŸ”ª0.4.2ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•df063bbğŸ”ª2016-04-29 09:09:42 -0700ğŸ”ªMike BostockğŸ”ªFix infinite loop in restarting timer.ğŸ”ª
 src/timer.js       |  2 +-
 test/timer-test.js | 11 +++++++++++
 2 files changed, 12 insertions(+), 1 deletion(-)

â˜•1750e80ğŸ”ª2016-03-15 10:21:38 -0700ğŸ”ªMike BostockğŸ”ªUse glob.ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•6476bf8ğŸ”ª2016-03-14 13:08:59 -0700ğŸ”ªMike BostockğŸ”ªDrop faucet.ğŸ”ª
 package.json | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

â˜•72cee30ğŸ”ª2016-03-14 12:34:03 -0700ğŸ”ªMike BostockğŸ”ªWindows build compatibility.ğŸ”ª
 index.js     | 2 +-
 package.json | 7 ++++---
 2 files changed, 5 insertions(+), 4 deletions(-)

â˜•e1dae15ğŸ”ª2016-03-06 15:10:36 -0800ğŸ”ªMike BostockğŸ”ªFix postpublish.ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•73a0bb8ğŸ”ª2016-03-04 09:49:07 -0800ğŸ”ªMike BostockğŸ”ªCreate zipball on postpublish.ğŸ”ª
 package.json | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

â˜•8f61fbdğŸ”ª2016-03-01 14:11:35 -0800ğŸ”ªMike BostockğŸ”ªSimpler version export.ğŸ”ª
 index.js     | 4 ++++
 package.json | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

â˜•5c12e4eğŸ”ª2016-02-24 16:18:39 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

â˜•b9e4f88ğŸ”ª2016-02-24 15:48:19 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•d079b35ğŸ”ª2016-02-24 15:47:46 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

â˜•74eb924ğŸ”ª2016-02-21 16:07:43 -0800ğŸ”ªMike BostockğŸ”ª0.4.1ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•c703caeğŸ”ª2016-02-21 16:07:40 -0800ğŸ”ªMike BostockğŸ”ªFix #11 - prototype.constructor.ğŸ”ª
 src/timer.js       | 1 +
 test/timer-test.js | 1 +
 2 files changed, 2 insertions(+)

â˜•c67b19eğŸ”ª2016-02-21 16:07:06 -0800ğŸ”ªMike BostockğŸ”ªUse npm version.ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•87f79aağŸ”ª2016-02-20 16:47:06 -0800ğŸ”ªMike BostockğŸ”ªSlightly more readable.ğŸ”ª
 src/interval.js       | 9 +++++----
 test/interval-test.js | 6 +++---
 2 files changed, 8 insertions(+), 7 deletions(-)

â˜•cd96ae5ğŸ”ª2016-02-18 21:25:25 -0800ğŸ”ªMike BostockğŸ”ªFix postpublish.ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•b317561ğŸ”ª2016-02-12 14:57:47 -0800ğŸ”ªMike BostockğŸ”ªFix #10 - add d3.{timeout,interval}.ğŸ”ª
 README.md                                   | 12 +++--
 index.js                                    |  9 +++-
 package.json                                |  2 +-
 src/interval.js (new)                       | 12 +++++
 src/timeout.js (new)                        | 11 +++++
 src/timer.js                                |  8 +--
 test/interval-test.js (new)                 | 76 +++++++++++++++++++++++++++++
 test/{timerOnce-test.js => timeout-test.js} | 24 ++++-----
 8 files changed, 129 insertions(+), 25 deletions(-)

â˜•2e0c0bcğŸ”ª2016-02-11 10:22:14 -0800ğŸ”ªMike BostockğŸ”ªComment regarding apparent vs. true time.ğŸ”ª
 README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

â˜•da49992ğŸ”ª2016-02-11 10:17:41 -0800ğŸ”ªMike BostockğŸ”ªFreeze time in the background.ğŸ”ªRather than periodically flushing the timer queue in the background, freeze time
such that timers remain blissfully unaware of their sleep when returning to the
foreground. Fixes d3/d3-transition#29.

 package.json |  2 +-
 src/timer.js | 16 ++++++++--------
 2 files changed, 9 insertions(+), 9 deletions(-)

â˜•e6e92dcğŸ”ª2016-02-10 11:42:25 -0800ğŸ”ªMike BostockğŸ”ªBump version.ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•2589f65ğŸ”ª2016-02-10 11:39:10 -0800ğŸ”ªMike BostockğŸ”ªFix tests?ğŸ”ª
 test/timer-test.js | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

â˜•b2eee5ağŸ”ª2016-02-10 11:38:22 -0800ğŸ”ªMike BostockğŸ”ªMicro-optimize.ğŸ”ª
 src/timer.js | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

â˜•d9dc87fğŸ”ª2016-02-10 10:57:04 -0800ğŸ”ªMike BostockğŸ”ªFix #6 - a slow poke for paused animations.ğŸ”ªIn some browsers, requestAnimationFrame is paused in background tabs. This can
cause the page to hang when returned to the foreground, as when a huge queue of
chained transitions (d3/d3-transition#29 mbostock/d3#2211) builds up. So we now
wake up every five seconds to flush the queue.

 src/timer.js | 20 +++++++++++++++++---
 1 file changed, 17 insertions(+), 3 deletions(-)

â˜•c77ba9eğŸ”ª2016-02-10 10:28:56 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

â˜•32ef849ğŸ”ª2016-02-10 10:28:29 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•735c8b3ğŸ”ª2016-02-10 10:27:33 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

â˜•da42b6fğŸ”ª2016-02-10 10:26:46 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•d8dc834ğŸ”ª2016-02-10 10:23:25 -0800ğŸ”ªMike BostockğŸ”ªAdd d3.now().ğŸ”ªThis method returns the current high-resolution time, using performance.now
where available. Furthermore, it is consistent during an animation frame or
while handling event, ensuring that any scheduled timers (or transitions!) have
consistent timing.

Since the current time is now available by calling d3.now(), the timer callbacks
no longer receive a second argument; they only receive the elapsed time.

Fixes d3/d3-transition#18.

 README.md               | 50 ++++++++++++++++++++-----------------------
 index.js                |  1 +
 package.json            |  4 ++--
 src/timer.js            | 57 +++++++++++++++++++++++++++----------------------
 test/now-test.js (new)  | 21 ++++++++++++++++++
 test/timer-test.js      | 46 ++++++++++++++++++++++-----------------
 test/timerFlush-test.js | 18 ++++++++--------
 test/timerOnce-test.js  | 25 +++++++++++-----------
 8 files changed, 126 insertions(+), 96 deletions(-)

â˜•fb43e7dğŸ”ª2016-02-09 15:51:19 -0800ğŸ”ªMike BostockğŸ”ªOptimizations.ğŸ”ªPrivate state on the timer object; avoid try-finally.

 README.md          |  8 ++-----
 package.json       |  4 ++--
 src/timer.js       | 66 +++++++++++++++++++++++++++---------------------------
 test/timer-test.js |  8 -------
 4 files changed, 37 insertions(+), 49 deletions(-)

â˜•1e7ee4cğŸ”ª2016-02-02 09:07:06 -0800ğŸ”ªMike BostockğŸ”ªAdd timerOnce.ğŸ”ª
 README.md                     | 10 +++++---
 index.js                      |  1 +
 package.json                  |  2 +-
 src/timer.js                  | 19 ++++++++++-----
 test/end.js (new)             |  7 ++++++
 test/timer-test.js            | 40 ++-----------------------------
 test/timerFlush-test.js (new) | 32 +++++++++++++++++++++++++
 test/timerOnce-test.js (new)  | 56 +++++++++++++++++++++++++++++++++++++++++++
 8 files changed, 119 insertions(+), 48 deletions(-)

â˜•9fbb307ğŸ”ª2016-01-29 10:40:05 -0800ğŸ”ªMike BostockğŸ”ªGenerate anonymous AMD.ğŸ”ªAlso update Rollup. Related mbostock/d3#2725.

 package.json | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

â˜•26bad50ğŸ”ª2016-01-20 17:37:49 -0800ğŸ”ªMike BostockğŸ”ªAdopt ESLint.ğŸ”ª
 .eslintrc (new) | 12 ++++++++++++
 package.json    |  2 +-
 src/timer.js    |  4 ++--
 3 files changed, 15 insertions(+), 3 deletions(-)

â˜•1eb907fğŸ”ª2016-01-07 15:52:32 -0800ğŸ”ªMike BostockğŸ”ªPrefix with d3, not d3_timer.ğŸ”ª
 README.md | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

â˜•59a9ff5ğŸ”ª2015-12-18 12:18:46 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md    | 30 +++++++++++++-----------------
 package.json |  2 +-
 2 files changed, 14 insertions(+), 18 deletions(-)

â˜•948e56ağŸ”ª2015-11-11 11:32:31 -0800ğŸ”ªMike BostockğŸ”ªUse Rollup.ğŸ”ª
 package.json | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

â˜•28e629cğŸ”ª2015-11-05 13:26:26 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•a6ec775ğŸ”ª2015-11-05 13:26:13 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•9ff2a50ğŸ”ª2015-11-05 13:25:59 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•8a98867ğŸ”ª2015-11-05 13:25:42 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•8d9ada1ğŸ”ª2015-11-05 13:24:59 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•4acbd4cğŸ”ª2015-11-05 13:24:34 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•5d1a189ğŸ”ª2015-11-05 13:23:51 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•eff69c2ğŸ”ª2015-11-05 13:22:45 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•1262270ğŸ”ª2015-11-05 13:22:37 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•cb7126dğŸ”ª2015-11-05 13:22:04 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•194d789ğŸ”ª2015-11-05 13:21:35 -0800ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 30 +++++++++++++++++++-----------
 1 file changed, 19 insertions(+), 11 deletions(-)

â˜•732b433ğŸ”ª2015-11-05 13:10:16 -0800ğŸ”ªMike BostockğŸ”ªVerify that callback is a function.ğŸ”ª
 src/timer.js       |  1 +
 test/timer-test.js | 35 ++++++++++++++++++++++++++++++++++-
 2 files changed, 35 insertions(+), 1 deletion(-)

â˜•1fc8795ğŸ”ª2015-11-05 10:48:11 -0800ğŸ”ªMike BostockğŸ”ªTest this context.ğŸ”ª
 test/timer-test.js | 8 ++++++++
 1 file changed, 8 insertions(+)

â˜•b8b7464ğŸ”ª2015-11-05 10:46:39 -0800ğŸ”ªMike BostockğŸ”ªBetter tests.ğŸ”ª
 test/timer-test.js | 330 ++++++++++++++++++++++++++++++++---------------------
 1 file changed, 201 insertions(+), 129 deletions(-)

â˜•d4cd7dcğŸ”ª2015-11-05 07:33:42 -0800ğŸ”ªMike BostockğŸ”ªDonâ€™t use the timer as the context.ğŸ”ªI think itâ€™s better to encourage callers to retain a reference to the timer.
This makes the mechanism for canceling a timer from inside its callback the same
as from outside, rather than the former using `this.stop()`. (This also
simplifies our implementation slightly.)

 src/timer.js       |   6 +--
 test/timer-test.js | 107 +++++++++++++++++++++++++++++------------------------
 2 files changed, 61 insertions(+), 52 deletions(-)

â˜•3a6168eğŸ”ª2015-11-04 22:38:33 -0800ğŸ”ªMike BostockğŸ”ªBetter tests.ğŸ”ª
 src/timer.js       |   2 +-
 test/timer-test.js | 221 +++++++++++++++++++++++++++++++++--------------------
 2 files changed, 140 insertions(+), 83 deletions(-)

â˜•1f5b5b5ğŸ”ª2015-11-04 21:27:11 -0800ğŸ”ªMike BostockğŸ”ªHide private fields; rename reset to restart.ğŸ”ªRather than storing the timer linked list on the timer objects, we now store a
map of task-by-id and reference the task by timer.id. This is similar to how
setTimeout and setInterval work (although we still provide a convenient timer
object with methods rather than just a long identifier).

The reset method has been renamed to restart, and you can now restart a timer
that has been stopped. If the timer was stopped, this is equivalent to creating
a new timer in that the task is put at the end of the queue.

Also, fix instanceof timer.

 src/timer.js | 54 +++++++++++++++++++++++++++++++-----------------------
 1 file changed, 31 insertions(+), 23 deletions(-)

â˜•0bd5e69ğŸ”ª2015-11-04 15:04:56 -0800ğŸ”ªMike BostockğŸ”ªConcise exports.ğŸ”ª
 index.js | 8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

â˜•5e4aa07ğŸ”ª2015-11-03 23:58:47 -0800ğŸ”ªMike BostockğŸ”ªUpgrade d3-bundler.ğŸ”ª
 package.json | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

â˜•4b0d70ağŸ”ª2015-11-01 09:24:21 -0500ğŸ”ªMike BostockğŸ”ªSimplify.ğŸ”ªRather than remove the timer from the queue synchronously, we clear its callback
and remove it on the next tick. This means we can use a singly-linked list.

 src/timer.js       | 57 +++++++++++++++++++++++++++---------------------------
 test/timer-test.js |  2 +-
 2 files changed, 29 insertions(+), 30 deletions(-)

â˜•19a9e19ğŸ”ª2015-10-31 22:44:40 -0400ğŸ”ªMike BostockğŸ”ªAdd comment.ğŸ”ª
 src/timer.js       | 2 +-
 test/timer-test.js | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

â˜•16f0ffdğŸ”ª2015-10-30 22:36:36 -0400ğŸ”ªMike BostockğŸ”ªTimer, Stop!ğŸ”ªRather than stopping timers by having the callback return true, timer(â€¦) now
returns a timer object with a stop method. Thus, you can now stop a timer
synchronously outside of its callback, rather than having to wait until the
timer is next called back. You can also reset a timer (changing its start time
or callback) externally, too. Fixes #5.

This commit also wraps timer execution with a try-finally block, fixing #4.

 index.js           |   2 -
 src/timer.js       | 111 ++++++++++++++++++++++++-----------------------------
 test/timer-test.js |  66 +++++++++++++++----------------
 3 files changed, 84 insertions(+), 95 deletions(-)

â˜•3466bb5ğŸ”ª2015-10-29 16:49:50 -0400ğŸ”ªMike BostockğŸ”ªTests for d7e22f06c68a3895b2f3b511ffdca31155509d43.ğŸ”ª
 test/timer-test.js | 24 ++++++++++++++++++++++--
 1 file changed, 22 insertions(+), 2 deletions(-)

â˜•6811aa3ğŸ”ª2015-10-29 09:23:02 -0400ğŸ”ªMike BostockğŸ”ªShorten.ğŸ”ª
 src/timer.js | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

â˜•d7e22f0ğŸ”ª2015-10-29 09:11:22 -0400ğŸ”ªMike BostockğŸ”ªFix #7 - donâ€™t request frames during flush.ğŸ”ª
 src/timer.js | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

â˜•f8a8b0fğŸ”ª2015-10-20 14:39:26 -0700ğŸ”ªMike BostockğŸ”ªRemove requestAnimationFrame polyfill.ğŸ”ª
 package.json       |  6 +++---
 src/timer.js       | 10 +++++++++-
 test/timer-test.js | 15 +++++++--------
 3 files changed, 19 insertions(+), 12 deletions(-)

â˜•daa1f04ğŸ”ª2015-07-01 11:28:20 -0700ğŸ”ªMike BostockğŸ”ªFix uglify-js dependency.ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•ec7f4dfğŸ”ª2015-06-16 14:51:22 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 20 +++++++++++++-------
 1 file changed, 13 insertions(+), 7 deletions(-)

â˜•09012d8ğŸ”ª2015-06-16 14:03:59 -0700ğŸ”ªMike BostockğŸ”ªFix .npmignore.ğŸ”ª
 .npmignore   | 4 ++--
 package.json | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

â˜•9b977f3ğŸ”ª2015-06-10 13:39:41 -0700ğŸ”ªMike BostockğŸ”ªGive sublime-project a unique name.ğŸ”ª
 .gitignore                                        | 2 +-
 index.sublime-project => d3-timer.sublime-project | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

â˜•9fe4054ğŸ”ª2015-06-09 11:43:21 -0700ğŸ”ªMike BostockğŸ”ªUse a struct, not a class.ğŸ”ª
 src/timer.js | 9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

â˜•175fc60ğŸ”ª2015-06-08 17:48:54 -0700ğŸ”ªMike BostockğŸ”ªTests for timerFlush(time).ğŸ”ª
 test/timer-test.js | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

â˜•c5492e9ğŸ”ª2015-06-08 17:43:29 -0700ğŸ”ªMike BostockğŸ”ªTest timer callback order.ğŸ”ª
 test/timer-test.js | 25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

â˜•d270103ğŸ”ª2015-06-08 16:43:32 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•2498ac6ğŸ”ª2015-06-08 16:42:46 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•9594f64ğŸ”ª2015-06-08 16:42:24 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•aa97dfbğŸ”ª2015-06-08 16:40:56 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•10cf061ğŸ”ª2015-06-08 16:40:31 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

â˜•aa678b0ğŸ”ª2015-06-08 16:39:46 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 35 ++++++++++++++++++++++++++++++++---
 1 file changed, 32 insertions(+), 3 deletions(-)

â˜•379528dğŸ”ª2015-06-08 16:29:28 -0700ğŸ”ªMike BostockğŸ”ªBump version.ğŸ”ª
 package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•1d0781ağŸ”ª2015-06-08 16:27:30 -0700ğŸ”ªMike BostockğŸ”ªRename test.ğŸ”ª
 test/timer-test.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•8b0d9ecğŸ”ª2015-06-08 16:26:51 -0700ğŸ”ªMike BostockğŸ”ªTests for setTimeout rescheduling.ğŸ”ª
 src/timer.js       |  7 ++-----
 test/timer-test.js | 47 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 49 insertions(+), 5 deletions(-)

â˜•0e9ae48ğŸ”ª2015-06-08 16:09:49 -0700ğŸ”ªMike BostockğŸ”ªMore precise setTimeout semantics.ğŸ”ªPreviously, we were sloppy about using requestAnimationFrame in some cases where
the delay was long. Now we use setTimeout when appropriate.

 README.md          | 10 ++++-----
 src/timer.js       | 64 +++++++++++++++++++++++++++++-------------------------
 test/timer-test.js | 32 +++++++++++++++++++++++++--
 3 files changed, 69 insertions(+), 37 deletions(-)

â˜•00ee1fdğŸ”ª2015-06-08 11:17:43 -0700ğŸ”ªMike BostockğŸ”ªUpdate description.ğŸ”ª
 package.json | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

â˜•8a2d758ğŸ”ª2015-06-08 11:16:51 -0700ğŸ”ªMike BostockğŸ”ªTest avoidance of duplicate requestAnimationFrame.ğŸ”ª
 test/timer-test.js | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

â˜•8f2e498ğŸ”ª2015-06-08 11:00:41 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•49c7ca4ğŸ”ª2015-06-08 10:59:36 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•ee2b0c2ğŸ”ª2015-06-08 10:58:22 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•bee5790ğŸ”ª2015-06-08 10:57:51 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•ab1e309ğŸ”ª2015-06-08 10:57:27 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•02677f0ğŸ”ª2015-06-08 10:57:00 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

â˜•714edd5ğŸ”ª2015-06-08 10:55:52 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

â˜•529147ağŸ”ª2015-06-08 10:54:23 -0700ğŸ”ªMike BostockğŸ”ªUpdate README.ğŸ”ª
 README.md | 25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

â˜•f8d10bağŸ”ª2015-06-08 10:44:48 -0700ğŸ”ªMike BostockğŸ”ªInitial commit.ğŸ”ª
 .gitignore (new)            |   5 +++
 .npmignore (new)            |   3 ++
 LICENSE (new)               |  27 ++++++++++++
 README.md (new)             |  13 ++++++
 index.js (new)              |  11 +++++
 index.sublime-project (new) |  13 ++++++
 package.json (new)          |  35 +++++++++++++++
 src/timer.js (new)          |  85 ++++++++++++++++++++++++++++++++++++
 test/inRange.js (new)       |  10 +++++
 test/timer-test.js (new)    | 104 ++++++++++++++++++++++++++++++++++++++++++++
 10 files changed, 306 insertions(+)
